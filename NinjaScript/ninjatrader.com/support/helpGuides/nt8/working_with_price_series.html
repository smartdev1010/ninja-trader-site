<!DOCTYPE html>
<html>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/working_with_price_series.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:55:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>NinjaScript &gt; Educational Resources &gt; Working with Price Series</title>
    <meta name="generator" content="Help &amp; Manual" />
    <meta name="keywords" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link type="text/css" href="default.css" rel="stylesheet" />
    <link type="text/css" href="custom.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="nt_custom.js"></script>
    <style TYPE="text/css" media="screen">
    html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #FFFFFF;
    line-height: 1.15
    }
    
    div#printheader {
    display: none
    }
    #idheader {
    width: 100%;
    height: auto;
    padding: 0;
    margin: 0
    }
    #idcontent {
    position: relative
    }
    #callout-table, #overview-table {
    display: block;
    position: relative;
    top: 0;
    left: 0
    }
    #callout-icon {
    display: block;
    position: absolute;
    top: -11px;
    left: -11px
    }
    #callout-icon-flag {
    display: block;
    position: absolute;
    top: -11px;
    left: -8px
    }
    #callout-table a {
    text-decoration: none;
    color: blue
    }
    #callout-table a:visited {
    text-decoration: none;
    color: blue
    }
    #overview-table a {
    text-decoration: none;
    color: black
    }
    #overview-table a:visited {
    text-decoration: none;
    color: black
    }
    #callout-table a:hover, #overview-table a:hover {
    text-decoration: underline
    }
    #switchtoggles {
    text-align: right;
    padding: 0 5px 0 0;
    font-size: 90%
    }
    p.help-url {
    margin: 20px 0 5px 0;
    text-align: center;
    font-size: 80%;
    text-decoration: none
    }
    .sync-toc {
    color: #ffffff;
    font-size: 8pt;
    font-weight: bold;
    display: none
    }
    .sync-toc a {
    color: #ffffff;
    text-decoration: none;
    font-weight: bold
    }
    .sync-toc a:visited {
    color: #ffffff
    }
    .sync-toc a:hover {
    text-decoration: underline
    }
    .p_ToggleHeading:active {
    box-shadow: 0px 0px 4px #9ecaed
    }                    
    .Needs {
      border-color: #008000 !important;
      background-color: #f3f9f4;
    }
    .Under {
      border-color: #ffcc00 !important;
      background-color: #fffdf6;
    }
    </style>
    <noscript>
    <style type="text/css">
    html, body { overflow: auto; }
    </style>
    </noscript>
    <style type="text/css" media="print">
    span.f_Heading1 { color: black; }
    #idheader, #printheader img { display:none; }
    #printheader { display: block; margin-top: 20px; }
    #idcontent { margin-top: 10px; position:relative }
    </style>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="helpman_settings.js"></script>
    <script type="text/javascript" src="helpman_topicinit.js"></script>
    <script type="text/javascript" src="nsh.js"></script>
    
    
    
  
   <script type="text/javascript">
     HMSyncTOC("NT%20HelpGuide%20English.html", "working_with_price_series.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
  <body>
    
    
    
    <div id="printheader"><p class="p_HeadingTopic"><span class="f_HeadingTopic">Working with Price Series</span></p>
</div>
    <div id="idheader">
      <div id="idheaderbg">
        <table style="width:100%;border:none;margin:0px;background:#A41E22" cellspacing="0" cellpadding="0">
          <tr valign="bottom">
            <td align="left" valign="bottom" class="topichead">
              <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="NT%20HelpGuide%20English809d.html?working_with_price_series.htm" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
              <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
                
              <a href="ninjascript.html">NinjaScript</a> &gt; <a href="educational_resources.html">Educational Resources</a>&nbsp;&gt;</p>
              <p class="p_HeadingTopic"><span class="f_HeadingTopic">Working with Price Series</span></p>

            </td>
            <td align="right" width="120" valign="middle" class="topichead" id="idnav">
              
              <a href="working_with_pixel_coordinates.html"><img name="prev" src="leftArrow.png" border=0 alt="Previous page"></a>
              
              <a href="educational_resources.html"><img name=main src="upArrow.png" border=0 alt="Return to chapter overview"></a>
              <a href="reference_samples.html"><img name=next src="rightArrow.png" border=0 alt="Next page"></a>
              
            </td>
          </tr>
        </table>
<!-- PM review header         
        <div id="status" class="" style="margin-bottom: 0px; min-height: 25px;font-size: small; border-bottom: solid 3px;  padding: 5px;">
          <b></b>: <span id="explain"></span>
        </div>
-->        
        <!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
        
      </div>
    </div>
    
    <div id="idcontent">
      <div id="innerdiv">
        <!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser -->
        <!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->
        
        <!--ZOOMRESTART-->
        <h2 class="p_Heading2"><span class="f_Heading2">Price Data Overview</span></h2>
<p class="p_Normal">The core objective of developing custom Indicators and Strategies with NinjaScript is to evaluate price data. NinjaScript allows you to reference current and historical price data. There are several categories of price data which include ISeries&lt;T&gt;, Indicator and Custom Historical Series.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Definitions</span></h2>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table style="width:80%; background-color:#ffffff; border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td style="vertical-align:top; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><a href="priceseries.html" class="topiclink">ISeries&lt;T&gt;</a></p>
</td>
<td style="vertical-align:top; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Standard bar based price types such as closing, opening, high, low prices and volume </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><a href="indicator.html" class="topiclink">Indicator</a></p>
</td>
<td style="vertical-align:top; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Calculated values based on price type values such as a simple moving average </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Custom Historical <a href="seriest.html" class="topiclink">Series&lt;T&gt;</a></p>
</td>
<td style="vertical-align:top; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Custom calculated values that you wish to store and associate to each historical bar</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Referencing Series</span></h2>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table style="width:80%; background-color:#ffffff; border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><span style="font-weight: bold;">ISeries&lt;T&gt;</span></p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><span style="font-weight: bold;">Syntax</span></p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><span style="font-weight: bold;">Editor Shortcut</span></p>
</td>
<td style="vertical-align:middle; width:418px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal"><span style="font-weight: bold;">Definition</span></p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Close</p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">Close[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;c&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Last traded price of a bar</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Open</p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">Open[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;o&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Opening price of a bar</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">High</p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">High[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;h&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Highest traded price of a bar</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Low</p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">Low[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;l&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Lowest traded price of a bar</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Volume</p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">Volume[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;v&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Number of shares/contracts traded of a bar</p>
</td>
</tr>
<tr>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Input</p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_CodeExample"><span class="f_CodeExample">Input[</span><span class="f_CodeExampleTypes">int</span><span class="f_CodeExample"> </span><span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span></p>
</td>
<td style="vertical-align:middle; width:200px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">&quot;i&quot; + Tab Key</p>
</td>
<td style="vertical-align:middle; width:418px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Default price type of a bar</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">You will notice that to reference any price data you need to include a value for <span class="f_CodeExample">[</span><span class="f_CodeExampleTypes">int</span> <span class="f_CodeExampleParameters">barsAgo</span><span class="f_CodeExample">]</span>. This is a very simple concept; barsAgo represents the number of bars ago to reference and int indicates that barsAgo is an integer value. As an example, we could write a statement to check if the the high price of 1 bar ago is less than the high price of the current bar like this:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">High[</span><span class="f_CodeExample" style="color: #ff9900;">1</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">&lt;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">High[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">];</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">You could write a statement to calculate the average closing price of the last three bars like this:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">(</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">Close[</span><span class="f_CodeExample" style="color: #ff9900;">2</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">Close[</span><span class="f_CodeExample" style="color: #ff9900;">1</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">+</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">Close[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">)</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">/</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample" style="color: #ff9900;">3</span><span class="f_CodeExample">;</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">As you may have already figured out, referencing the current bar data is accomplished by passing in a value of 0 (zero) to the barsAgo parameter. Basically, we are saying show me the price data of zero bars ago, which means the current bar.<br />
&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Note" >
<tr class="Note">
<td class="Note"><p class="p_Normal"><span style="font-weight: bold;">Note</span>: &nbsp;In most cases, you will access the historical price series using a core event handler such as OnBarUpdate. &nbsp;For more advance developers, you may find situations where you wish to access historical price series outside of the core event methods, such as your own custom mouse click. &nbsp;In these advanced scenarios, you may run into situations where the barsAgo pointer is not in sync with the current bar, and may result in errors when trying to obtain this information. &nbsp;In those cases, please use the Bars.Get...() methods with the absolute bar index (e.g., <a href="getclose.html" class="topiclink">Bars.GetClose(</a>), <a href="gettime.html" class="topiclink">Bars.GetTime()</a>, etc.)</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Referencing Indicator Data</span><br />
NinjaScript includes a library of built in indicators that you can access. Please see the <a href="indicators.html" class="topiclink">Indicator Methods</a> reference section for clear definitions for how to access each indicator.</h2>
<p class="p_Normal">&nbsp;<br />
All indicator values can be accessed in the following way:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_CodeExample"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">indicator(parameters)[</span><span class="f_CodeExample" style="color: #0000ff;">int</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">barsAgo]</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_Normal">where indicator is the name of the indicator you want to access, parameters is any associated parameters the indicator requires and barsAgo is the number of bars we wish to offset from the current bar.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">As an example, we could write a statement to check if the current closing price is greater than the 20 period simple moving average like this:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_CodeExample"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">Close[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">&gt;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">SMA(</span><span class="f_CodeExample" style="color: #ff9900;">20</span><span class="f_CodeExample">)[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">];</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;</span></p>
<p class="p_Normal">If you wanted to perform the same check but only check against a 20 period simple moving average of high prices you would write it like this:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_CodeExample"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">Close[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">&gt;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">SMA(High,</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample" style="color: #ff9900;">20</span><span class="f_CodeExample">)[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">];</span></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">You could write a statement to see if a 14 period CCI indicator is rising like this:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_CodeExample"><span style="width:48px;display:inline-block">&nbsp;</span><span class="f_CodeExample">CCI(</span><span class="f_CodeExample" style="color: #ff9900;">14</span><span class="f_CodeExample">)[</span><span class="f_CodeExample" style="color: #ff9900;">0</span><span class="f_CodeExample">]</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">&gt;</span><span class="f_CodeExample" style="color: #ffffff;"> </span><span class="f_CodeExample">CCI(</span><span class="f_CodeExample" style="color: #ff9900;">14</span><span class="f_CodeExample">)[</span><span class="f_CodeExample" style="color: #ff9900;">1</span><span class="f_CodeExample">];</span></p>
<p class="p_Normal">&nbsp;<br />
Value of a 10 period CCI 1 bar ago = CCI(10)[1]</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Please review the <a href="indicators.html" class="topiclink">Indicator Methods</a> section for proper syntax for accessing different indicator values.</p>

        <!--ZOOMSTOP-->
      </div>
      <script type="text/javascript">
      
      var lastSlashPos = document.URL.lastIndexOf("https://ninjatrader.com/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("https://ninjatrader.com/") : document.URL.lastIndexOf("\\");
      if (document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh") {
      if (document.all) setTimeout(function() {
      nsrInit();
      }, 20);
      else nsrInit();
      }
      
      
      if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) {
      $('.sync-toc').show();
      $('p.crumbs').hide();
      }
      
      
      </script>
      <div id="bump" style="height: 25px"></div>
    </body>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/working_with_price_series.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:55:54 GMT -->
</html>
