<!DOCTYPE html>
<html>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/genetic_algorithm.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:53:05 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Operations &gt; Strategy Analyzer &gt; Optimization &gt; Genetic Algorithm</title>
    <meta name="generator" content="Help &amp; Manual" />
    <meta name="keywords" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link type="text/css" href="default.css" rel="stylesheet" />
    <link type="text/css" href="custom.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="nt_custom.js"></script>
    <style TYPE="text/css" media="screen">
    html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #FFFFFF;
    line-height: 1.15
    }
    
    div#printheader {
    display: none
    }
    #idheader {
    width: 100%;
    height: auto;
    padding: 0;
    margin: 0
    }
    #idcontent {
    position: relative
    }
    #callout-table, #overview-table {
    display: block;
    position: relative;
    top: 0;
    left: 0
    }
    #callout-icon {
    display: block;
    position: absolute;
    top: -11px;
    left: -11px
    }
    #callout-icon-flag {
    display: block;
    position: absolute;
    top: -11px;
    left: -8px
    }
    #callout-table a {
    text-decoration: none;
    color: blue
    }
    #callout-table a:visited {
    text-decoration: none;
    color: blue
    }
    #overview-table a {
    text-decoration: none;
    color: black
    }
    #overview-table a:visited {
    text-decoration: none;
    color: black
    }
    #callout-table a:hover, #overview-table a:hover {
    text-decoration: underline
    }
    #switchtoggles {
    text-align: right;
    padding: 0 5px 0 0;
    font-size: 90%
    }
    p.help-url {
    margin: 20px 0 5px 0;
    text-align: center;
    font-size: 80%;
    text-decoration: none
    }
    .sync-toc {
    color: #ffffff;
    font-size: 8pt;
    font-weight: bold;
    display: none
    }
    .sync-toc a {
    color: #ffffff;
    text-decoration: none;
    font-weight: bold
    }
    .sync-toc a:visited {
    color: #ffffff
    }
    .sync-toc a:hover {
    text-decoration: underline
    }
    .p_ToggleHeading:active {
    box-shadow: 0px 0px 4px #9ecaed
    }                    
    .Needs {
      border-color: #008000 !important;
      background-color: #f3f9f4;
    }
    .Under {
      border-color: #ffcc00 !important;
      background-color: #fffdf6;
    }
    </style>
    <noscript>
    <style type="text/css">
    html, body { overflow: auto; }
    </style>
    </noscript>
    <style type="text/css" media="print">
    span.f_Heading1 { color: black; }
    #idheader, #printheader img { display:none; }
    #printheader { display: block; margin-top: 20px; }
    #idcontent { margin-top: 10px; position:relative }
    </style>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="helpman_settings.js"></script>
    <script type="text/javascript" src="helpman_topicinit.js"></script>
    <script type="text/javascript" src="nsh.js"></script>
    
    
    
  
   <script type="text/javascript">
     HMSyncTOC("NT%20HelpGuide%20English.html", "genetic_algorithm.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
  <body>
    
    
    
    <div id="printheader"><p class="p_HeadingTopic"><span class="f_HeadingTopic">Genetic Algorithm</span></p>
</div>
    <div id="idheader">
      <div id="idheaderbg">
        <table style="width:100%;border:none;margin:0px;background:#A41E22" cellspacing="0" cellpadding="0">
          <tr valign="bottom">
            <td align="left" valign="bottom" class="topichead">
              <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="NT%20HelpGuide%20English78ea.html?genetic_algorithm.htm" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
              <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
                
              <a href="operations.html">Operations</a> &gt; <a href="strategy_analyzer.html">Strategy Analyzer</a> &gt; <a href="optimize_a_strategy.html">Optimization</a>&nbsp;&gt;</p>
              <p class="p_HeadingTopic"><span class="f_HeadingTopic">Genetic Algorithm</span></p>

            </td>
            <td align="right" width="120" valign="middle" class="topichead" id="idnav">
              
              <a href="optimize_a_strategy.html"><img name="prev" src="leftArrow.png" border=0 alt="Previous page"></a>
              
              <a href="optimize_a_strategy.html"><img name=main src="upArrow.png" border=0 alt="Return to chapter overview"></a>
              <a href="optimization_fitness_metrics.html"><img name=next src="rightArrow.png" border=0 alt="Next page"></a>
              
            </td>
          </tr>
        </table>
<!-- PM review header         
        <div id="status" class="" style="margin-bottom: 0px; min-height: 25px;font-size: small; border-bottom: solid 3px;  padding: 5px;">
          <b></b>: <span id="explain"></span>
        </div>
-->        
        <!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
        
        <p id="switchtoggles"><a href="javascript:HMToggleExpandAll(!HMAnyToggleOpen())" title="Click to open/close expanding sections">Show/Hide Hidden Text</a></p>
        
      </div>
    </div>
    
    <div id="idcontent">
      <div id="innerdiv">
        <!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser -->
        <!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->
        
        <!--ZOOMRESTART-->
        <p class="p_Normal">Very simply put the <span style="font-weight: bold;">Genetic</span> <span style="font-weight: bold;">Algorithm</span> attempts to find the most optimal set of parameters for a strategy. It does this not by brute force testing each individual combination as the default optimization method does, but instead using the concept of evolutionary theory borrowed from biology where only the fittest parents (combined with mutation and crossover) produce children for the next generation. Through testing of multiple generations you should have narrowed down on the most optimal parameters and therefore saving you time from having to test every single parameter combination. </p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Video" >
<tr class="Video">
<td class="Video"><h2 class="p_Heading2"><img id="playVideoImg" alt="playVideo" width="150" height="30" style="margin:0;width:150px;height:30px;border:none" src="playvideo.jpg"/></h2>
</td>
</tr>
<tr class="Video">
<td class="Video"><div class="p_Heading2"><div style="margin:0;width:640px;height:auto"><div style="position:relative;overflow:hidden;width:640px;height:390px;padding:0;cursor:pointer;text-align:center;background:#000" onclick="javascript:this.innerHTML='&lt;iframe width=&quot;640&quot; height=&quot;390&quot; style=&quot;top:0;left:0;width:100%;height:100%;position:absolute&quot; src=&quot;https://www.youtube.com/embed/5_pf2YITPAU?showinfo=0&amp;autoplay=1&amp;controls=0&amp;rel=0&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';this.onclick=null"><img src="cicon_video_playbutton.png" style="position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;max-width:102px;max-height:104px;border:none" /></div></div></div>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="UnderstandingTheGeneticAlgorithm_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','UnderstandingTheGeneticAlgorithm','UnderstandingTheGeneticAlgorithm_ICON')">Understanding&nbsp;the&nbsp;Genetic&nbsp;Algorithm</a></span></p>
<div id="UnderstandingTheGeneticAlgorithm" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">Overview</span></h2>
<p class="p_Normal">The general idea of how the GA solves an optimization problem is analogous to the concept of how evolution via natural selection adapts a species to the environment. In biology, only the strongest individuals will be able to reproduce and pass on their superior genes to the next generation. Assuming each generation can only pass on the strongest genes, after several iterations we would be left with the optimal attributes for the environment. Through this same mechanism, the GA will test a random preset of your parameters. Through multiple generations of testing, the parameters will zero in on an optimum solution.</p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Note" >
<tr class="Note">
<td class="Note"><p class="p_Normal"><span style="font-weight: bold;">Note</span>: It is important to understand that GA will find approximate optimum solutions. Since it does not test every combination possible there is no guarantee its solutions are absolute optimums.</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">How the GA calculates</span></h2>
<h2 class="p_Heading2">The GA determines its solution through the following steps:</h2>
<h2 class="p_Heading2"><span class="f_Heading2">&nbsp;</span></h2>
<p class="p_Heading2" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">1.</span>Begin with an initial population size consisting of randomly selected individuals (parameter setting combinations)</p><p class="p_Heading2" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">2.</span>Compute the fitness (Optimize on...) for each individual in the population and assign probabilities to the population based on the fitness results. More fit results have more probability in being selected for breeding of the next generation.</p><p class="p_Heading2" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">3.</span>Generate a new population for the next generation by selecting individuals from the prior generation to produce offspring via crossover and mutation (see below)</p><p class="p_Heading2" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">4.</span>Repeat from step 2 till you reach the number of generations in your test</p><h2 class="p_Heading2"><span class="f_Heading2">&nbsp;</span></h2>
<h2 class="p_Heading2"><span class="f_Heading2">Crossover and Mutation</span></h2>
<h2 class="p_Heading2">Crossover is the process in generating offspring that are not 100% identical to their parents. It is done by taking half of the parameter settings from parent A and mixing it with the other half from parent B. Crossover allows GA to test different combinations of parameters and hone in on the optimal solution. Crossover alone however will eventually yield identical offsprings in the population through several generations and so through mutation, some random parameter settings will be interjected in a few of the offsprings to allow for an adaptive quality to the algorithm.</h2>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="UnderstandingGeneticAlgorithmParameters_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','UnderstandingGeneticAlgorithmParameters','UnderstandingGeneticAlgorithmParameters_ICON')">Understanding&nbsp;Genetic&nbsp;Algorithm&nbsp;parameters</a></span></p>
<div id="UnderstandingGeneticAlgorithmParameters" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><p class="p_Normal">Please see the &quot;<a href="optimize_a_strategy.html" class="topiclink">Optimize a Strategy</a>&quot; article for how to run an optimization.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">When you select the Genetic optimizer you will see the following optimization properties after you left click the triangle to the left of &quot;GO Properties&quot; to expand the properties. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_GOParams" width="335" height="365" style="margin:0;width:335px;height:365px;border:none" src="strategyanalyzer_optimization_goparams.png"/></p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table style="width:80%; background-color:#ffffff; border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td style="vertical-align:top; width:213px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Convergence threshold</p>
</td>
<td style="vertical-align:top; width:1032px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Setting this will terminate the Genetic Optimization if there is more than a certain number of duplicate children in a single generation, defined by the Convergence Threshold value. This allows the optimization to terminate if no new work is getting done because it has already converged in on the most optimal solution. Example: In the screenshot above Generation size is set to 25, therefore each generation will contain 25 children, if 20 of these children are duplicates that have already been tested then the &nbsp;optimization will be terminated. </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Crossover rate (%)</p>
</td>
<td style="vertical-align:top; width:1032px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Each new generation is created from a combination of randomly generated offspring and offspring created from combining (crossing over) parent parameters. Crossover Rate determines the percentage of the new generation that is generated from the crossover process.</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Generation size</p>
</td>
<td style="vertical-align:top; width:1032px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the number of combinations to test in each generation (children). The higher the size, the more variety of combinations that will be tested in each generation. You want to make sure to set this high enough to test enough parameter combinations to get good coverage of the problem domain but not so high that each possible parameter combination is being tested in a single generation. </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Generations</p>
</td>
<td style="vertical-align:top; width:1032px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the number of generations to test. Each generation will hold the number of children set in &quot;Generation Size&quot;. &nbsp;The number of total parameter combinations tested is equal to the Generation Size * Generations. </p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Minimum performance</p>
</td>
<td style="vertical-align:top; width:1032px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">If this performance value is reached before all generations are evaluated the optimizer will end and present results immediately, where the type of this value is directly tied to your used optimization fitness metric (i.e. Profit Factor). A Value of 0 means no minimum performance is in use.</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Mutation rate (%)</p>
</td>
<td style="vertical-align:top; width:1032px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the probability that a crossover offspring will contain some mutated parameters (applies to all parameter types)</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Mutation strength (%)</p>
</td>
<td style="vertical-align:top; width:1032px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the maximum offset from crossover values that an offspring marked for mutation can have its parameters changed (applies only to input parameters of type <span class="f_CodeExample" style="color: #0000ff;">double</span><span class="f_CodeExample">)</span></p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Reset size (%)</p>
</td>
<td style="vertical-align:top; width:1032px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">When each new generation is created, all individuals from previous generations are possible parents for the new offsprings. If the top performing x% (stability size %) of children from the newly created generation is the same as the top performing x% of parents, reset all parents and repopulate a new generation randomly while leaving only the top performing y% of parents (reset size %) for future generations. Note: This occurs before convergence threashold is tested.</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:213px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Stability size (%)</p>
</td>
<td style="vertical-align:top; width:1032px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">See &quot;Reset Size %&quot;</p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>

        <!--ZOOMSTOP-->
      </div>
      <script type="text/javascript">
      
      var lastSlashPos = document.URL.lastIndexOf("https://ninjatrader.com/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("https://ninjatrader.com/") : document.URL.lastIndexOf("\\");
      if (document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh") {
      if (document.all) setTimeout(function() {
      nsrInit();
      }, 20);
      else nsrInit();
      }
      
      
      if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) {
      $('.sync-toc').show();
      $('p.crumbs').hide();
      }
      
      
      </script>
      <div id="bump" style="height: 25px"></div>
    <script type="text/javascript">
HMInitToggle('UnderstandingTheGeneticAlgorithm_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'UnderstandingTheGeneticAlgorithm\',\'UnderstandingTheGeneticAlgorithm_ICON\')');
HMInitToggle('UnderstandingTheGeneticAlgorithm','hm.type','dropdown','hm.state','0');
HMInitToggle('UnderstandingGeneticAlgorithmParameters_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'UnderstandingGeneticAlgorithmParameters\',\'UnderstandingGeneticAlgorithmParameters_ICON\')');
HMInitToggle('UnderstandingGeneticAlgorithmParameters','hm.type','dropdown','hm.state','0');
</script>
</body>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/genetic_algorithm.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:53:06 GMT -->
</html>
