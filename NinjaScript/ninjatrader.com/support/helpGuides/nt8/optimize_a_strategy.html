<!DOCTYPE html>
<html>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/optimize_a_strategy.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:53:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <title>Operations &gt; Strategy Analyzer &gt; Optimization</title>
    <meta name="generator" content="Help &amp; Manual" />
    <meta name="keywords" content="" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link type="text/css" href="default.css" rel="stylesheet" />
    <link type="text/css" href="custom.css" rel="stylesheet">
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="nt_custom.js"></script>
    <style TYPE="text/css" media="screen">
    html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: #FFFFFF;
    line-height: 1.15
    }
    
    div#printheader {
    display: none
    }
    #idheader {
    width: 100%;
    height: auto;
    padding: 0;
    margin: 0
    }
    #idcontent {
    position: relative
    }
    #callout-table, #overview-table {
    display: block;
    position: relative;
    top: 0;
    left: 0
    }
    #callout-icon {
    display: block;
    position: absolute;
    top: -11px;
    left: -11px
    }
    #callout-icon-flag {
    display: block;
    position: absolute;
    top: -11px;
    left: -8px
    }
    #callout-table a {
    text-decoration: none;
    color: blue
    }
    #callout-table a:visited {
    text-decoration: none;
    color: blue
    }
    #overview-table a {
    text-decoration: none;
    color: black
    }
    #overview-table a:visited {
    text-decoration: none;
    color: black
    }
    #callout-table a:hover, #overview-table a:hover {
    text-decoration: underline
    }
    #switchtoggles {
    text-align: right;
    padding: 0 5px 0 0;
    font-size: 90%
    }
    p.help-url {
    margin: 20px 0 5px 0;
    text-align: center;
    font-size: 80%;
    text-decoration: none
    }
    .sync-toc {
    color: #ffffff;
    font-size: 8pt;
    font-weight: bold;
    display: none
    }
    .sync-toc a {
    color: #ffffff;
    text-decoration: none;
    font-weight: bold
    }
    .sync-toc a:visited {
    color: #ffffff
    }
    .sync-toc a:hover {
    text-decoration: underline
    }
    .p_ToggleHeading:active {
    box-shadow: 0px 0px 4px #9ecaed
    }                    
    .Needs {
      border-color: #008000 !important;
      background-color: #f3f9f4;
    }
    .Under {
      border-color: #ffcc00 !important;
      background-color: #fffdf6;
    }
    </style>
    <noscript>
    <style type="text/css">
    html, body { overflow: auto; }
    </style>
    </noscript>
    <style type="text/css" media="print">
    span.f_Heading1 { color: black; }
    #idheader, #printheader img { display:none; }
    #printheader { display: block; margin-top: 20px; }
    #idcontent { margin-top: 10px; position:relative }
    </style>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="helpman_settings.js"></script>
    <script type="text/javascript" src="helpman_topicinit.js"></script>
    <script type="text/javascript" src="nsh.js"></script>
    
    
    
  
   <script type="text/javascript">
     HMSyncTOC("NT%20HelpGuide%20English.html", "optimize_a_strategy.html");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
  <body>
    
    
    
    <div id="printheader"><p class="p_HeadingTopic"><span class="f_HeadingTopic">Optimization</span></p>
</div>
    <div id="idheader">
      <div id="idheaderbg">
        <table style="width:100%;border:none;margin:0px;background:#A41E22" cellspacing="0" cellpadding="0">
          <tr valign="bottom">
            <td align="left" valign="bottom" class="topichead">
              <p class="sync-toc">&lt;&lt; <a rel="nofollow" href="NT%20HelpGuide%20English084d.html?optimize_a_strategy.htm" target="_top">Click to Display Table of Contents</a> &gt;&gt;</p>
              <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
                
              <a href="operations.html">Operations</a> &gt; <a href="strategy_analyzer.html">Strategy Analyzer</a>&nbsp;&gt;</p>
              <p class="p_HeadingTopic"><span class="f_HeadingTopic">Optimization</span></p>

            </td>
            <td align="right" width="120" valign="middle" class="topichead" id="idnav">
              
              <a href="backtest_a_strategy.html"><img name="prev" src="leftArrow.png" border=0 alt="Previous page"></a>
              
              <a href="strategy_analyzer.html"><img name=main src="upArrow.png" border=0 alt="Return to chapter overview"></a>
              <a href="genetic_algorithm.html"><img name=next src="rightArrow.png" border=0 alt="Next page"></a>
              
            </td>
          </tr>
        </table>
<!-- PM review header         
        <div id="status" class="" style="margin-bottom: 0px; min-height: 25px;font-size: small; border-bottom: solid 3px;  padding: 5px;">
          <b></b>: <span id="explain"></span>
        </div>
-->        
        <!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
        
        <p id="switchtoggles"><a href="javascript:HMToggleExpandAll(!HMAnyToggleOpen())" title="Click to open/close expanding sections">Show/Hide Hidden Text</a></p>
        
      </div>
    </div>
    
    <div id="idcontent">
      <div id="innerdiv">
        <!-- Ask Internet Explorer 6.users to update their obsolete and dangerous browser -->
        <!--[if lt IE 7]><div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;'><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode"><img src="http://storage.ie6countdown.com/assets/100/images/banners/warning_bar_0000_us.jpg" border="0" height="42" width="820" alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today." /></a></div><![endif]-->
        
        <!--ZOOMRESTART-->
        <p class="p_Normal">You can fine tune the input parameters of a strategy through optimization. Optimization is the process of testing a range of values through iterative backtests to determine the optimal input values over the historical test period based on your optimization fitness. To run an optimization you will need:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal" style="text-indent: 0; padding-left: 13px; margin: 0 0 0 48px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Access to <a href="data_by_provider.html" class="topiclink">historical data </a></p><p class="p_Normal" style="text-indent: 0; padding-left: 13px; margin: 0 0 0 48px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>Custom NinjaScript *<a href="strategy.html" class="topiclink">strategy</a></p><p class="p_Normal" style="text-indent: 0; padding-left: 13px; margin: 0 0 0 48px;"><span class="f_Normal" style="font-family: Arial,'Lucida Sans Unicode','Lucida Grande','Lucida Sans';display:inline-block;width:13px;margin-left:-13px">&#8226;</span>A thorough understanding of the Strategy Analyzer's <a href="backtest_a_strategy.html" class="topiclink">backtesting</a> capabilities</p><p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Tip" >
<tr class="Tip">
<td class="Tip"><p class="p_Normal"><span style="font-weight: bold;">Tip</span>: &nbsp;There are several pre-defined sample strategies that are installed with NinjaTrader that you can explore.</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Video" >
<tr class="Video">
<td class="Video"><h2 class="p_Heading2"><img id="playVideoImg" alt="playVideo" width="150" height="30" style="margin:0;width:150px;height:30px;border:none" src="playvideo.jpg"/></h2>
</td>
</tr>
<tr class="Video">
<td class="Video"><div class="p_Heading2"><div style="margin:0;width:640px;height:auto"><div style="position:relative;overflow:hidden;width:640px;height:390px;padding:0;cursor:pointer;text-align:center;background:#000" onclick="javascript:this.innerHTML='&lt;iframe width=&quot;640&quot; height=&quot;390&quot; style=&quot;top:0;left:0;width:100%;height:100%;position:absolute&quot; src=&quot;https://www.youtube.com/embed/6O9S-tu1Xz0?showinfo=0&amp;autoplay=1&amp;controls=0&amp;rel=0&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;';this.onclick=null"><img src="cicon_video_playbutton.png" style="position:absolute;top:0;left:0;bottom:0;right:0;margin:auto;max-width:102px;max-height:104px;border:none" /></div></div></div>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="HowToRunAnOptimization_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','HowToRunAnOptimization','HowToRunAnOptimization_ICON')">How&nbsp;to&nbsp;run&nbsp;an&nbsp;Optimization</a></span></p>
<div id="HowToRunAnOptimization" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">Running an Optimization</span></h2>
<p class="p_Normal">To run an <span style="font-weight: bold;">Optimization </span>select the <span style="font-weight: bold;">Backtest type</span> of &quot;<span style="font-weight: bold;">Optimization&quot; </span>in the settings panel of the <span style="font-weight: bold;">Strategy Analyzer</span>. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_OptimizationRiun" width="326" height="187" style="margin:0;width:326px;height:187px;border:none" src="strategyanalyzer_optimizationriun.png"/></p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Note" >
<tr class="Note">
<td class="Note"><p class="p_Normal"><span style="font-weight: bold;">Note</span>: When making the selection additional parameters to configure your optimization will be made visible. </p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Setting the Test Range</span></h2>
<p class="p_Normal">You can the test range of strategy parameters to be tested by left clicking on the triangle to expand the strategies sub parameters.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Note: If you don't see the triangle make sure that the <span style="font-weight: bold;">Backtest type</span> is set to &quot;<span style="font-weight: bold;">Optimization</span>&quot;.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_Paramters" width="338" height="223" style="margin:0;width:338px;height:223px;border:none" src="strategyanalyzer_optimization_paramters.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Min</span>. &nbsp;- The starting value you want to test <br />
<span style="font-weight: bold;">Max</span>. &nbsp;- The last value to test <br />
<span style="font-weight: bold;">Increment</span> - The increment value (step value) used to increment the starting value by for each subsequent optimization pass</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">In the image above, the input &quot;Fast&quot; has a starting (initial) value of 10 and an ending value of 30 with an increment of 1. This means that the first value tested will be 10, then 11, then 12 all the way through 30. The input &quot;Slow&quot; has a starting value of 6, ending value of 16 with an increment of 1. Based on these settings, a total of 200 (20 unique values for &quot;Fast&quot; multiplied by 10 unique values for &quot;Slow&quot;) backtest iterations will be processed in order to find the optimal combination of input values based on the best optimization fitness.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Setting the Optimization Fitness </span></h2>
<p class="p_Normal">Optimization is based on the best optimization fitness you select. If you set the property &quot;Optimize on...&quot; to &quot;Max. net profit&quot;, the optimizer will seek the optimal input values that return the maximum profit possible. There are over 10 different optimization criterion you can select and can be customized via NinjaScript. Please see the &quot;<span style="font-style: italic;">Understanding Optimization properties</span>&quot; section below for more information.</p>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="UnderstandingOptimizationProperties_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','UnderstandingOptimizationProperties','UnderstandingOptimizationProperties_ICON')">Understanding&nbsp;optimization&nbsp;properties</a></span></p>
<div id="UnderstandingOptimizationProperties" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">Optimization Properties</span></h2>
<p class="p_Normal">Apart from the optimization specific properties described below, the properties are identical to the ones found in the backtest properties window. Please see the &quot;<span style="font-style: italic;">Understanding backtest properties</span>&quot; section of the<a href="backtest_a_strategy.html" class="topiclink"> Backtest a Strategy</a> page of the Help Guide for more information.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The following Optimization specific properties are available:</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_OptimizationParamaters" width="336" height="127" style="margin:0;width:336px;height:127px;border:none" src="strategyanalyzer_optimization_optimizationparamaters.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table class="Tip" >
<tr class="Tip">
<td class="Tip"><p class="p_Normal"><span style="font-weight: bold;">Tip</span>: &nbsp;You can optionally &quot;<span style="font-weight: bold;">Optimize on</span>&quot; multiple objectives by using a <a href="multi-objective_optimization.html" class="topiclink">Multi-Objective optimization</a></p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table style="width:80%; background-color:#ffffff; border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td style="vertical-align:top; width:156px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Keep best # results</p>
</td>
<td style="vertical-align:top; width:1089px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the number of best results to display</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:156px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Optimize data series</p>
</td>
<td style="vertical-align:top; width:1089px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">If set to true, the Data Series Value property will be available for optimization (Not supported for Kagi, Point and Figure, Line Break and Heiken Ashi period Types)</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:156px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Optimize on...</p>
</td>
<td style="vertical-align:top; width:1089px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the optimization fitness to base the optimization results on</p>
</td>
</tr>
<tr>
<td style="vertical-align:top; width:156px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Optimizer</p>
</td>
<td style="vertical-align:top; width:1089px; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Sets the optimization algorithm that is used. NinjaTrader comes with &quot;Default&quot; and &quot;<a href="genetic_algorithm.html" class="topiclink">Genetic</a>&quot; optimizer algorithms. When the &quot;Genetic&quot; option is selected, the genetic algorithm's optimization properties fields will appear below the Optimizer selection &nbsp;You can program your own <a href="optimizer.html" class="topiclink">optimization algorithm</a> using NinjaScript.</p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="UnderstandingOptimizationResults_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','UnderstandingOptimizationResults','UnderstandingOptimizationResults_ICON')">Understanding&nbsp;optimization&nbsp;results</a></span></p>
<div id="UnderstandingOptimizationResults" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">Understanding Optimization Results</span></h2>
<p class="p_Normal">Once the optimization process is complete, you will see a the Optimization Results Grid appear in the Analyzer tab. The results will be grouped per instrument and shows the parameter combination that achieved the highest performance. The &quot;Performance&quot; column is dynamic and will always be the Optimization Fitness that you selected for the &quot;<span style="font-weight: bold;">Optimize</span>&quot; parameter when you ran the optimization.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_BestResults1" width="1490" height="494" style="margin:0;width:1490px;height:494px;border:none" src="strategyanalyzer_optimization_bestresults1.png"/></p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">The Top Optimization Results</span></h2>
<p class="p_Normal">The Optimizer tab will display the top number of results based on the value you set for the &quot;Keep best # results&quot; property in the Optimizer dialog window. The column Parameters displays the optimized input values.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_BestResults" width="1105" height="437" style="margin:0;width:1105px;height:437px;border:none" src="strategyanalyzer_optimization_bestresults.png"/></p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">1.</span>The optimal value for the &quot;Fast&quot; input for the demonstration strategy used for this optimization</p><p class="p_Normal" style="text-indent: 0; padding-left: 20px; margin-left: 0;"><span class="f_Normal" style="display:inline-block;width:20px;margin-left:-20px">2.</span>The optimal value for the &quot;Slow&quot; input for the demonstration strategy used for this optimization</p></td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="RunningABasketTest_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','RunningABasketTest','RunningABasketTest_ICON')">Running&nbsp;a&nbsp;basket&nbsp;test</a></span></p>
<div id="RunningABasketTest" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">Basket test</span></h2>
<p class="p_Normal">Running an optimization across a list of instruments works very much the same as running a regular basket backtest. &nbsp;For general information, please refer to the <a href="basket_test.html" class="topiclink">Basket testing multiple instruments page.</a> &nbsp;However, when running an optimization across multiple instruments, an optional &quot;Aggregated&quot; option will be available.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><img alt="StrategyAnalyzer_Optimization_Aggregated" width="470" height="428" style="margin:0;width:470px;height:428px;border:none" src="strategyanalyzer_optimization_aggregated.png"/></p>
<p class="p_Normal">&nbsp;</p>
<div style="text-align: left; text-indent: 0; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 0;"><table style="width:80%; background-color:#ffffff; border:none; border-spacing:0; border-collapse:collapse;">
<tr>
<td style="vertical-align:top; width:156px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">Aggregated</p>
</td>
<td style="vertical-align:top; width:1089px; background-color:#F9F9F9; padding:10px; border:solid thin #dddddd;"><p class="p_Normal">If set to True, NinjaTrader attempts to find the optimal results for the whole basket of instruments. The COMBINED row in the results tab will show an aggregation of results across the basket of instruments. (This parameter is only available when an <a href="instrument_lists.html" class="topiclink">Instrument List</a> is selected for optimization.)</p>
</td>
</tr>
</table>
</div>
<p class="p_Normal">&nbsp;</p>
</td>
</tr>
</table>
</div>
<p class="p_ToggleHeading"><img id="UnderstandingFactorsThatAffectOptimizationPerformance_ICON" class="dropdown-toggle-icon" alt="tog_minus" width="16" height="16" style="margin:0;width:16px;height:16px;border:none" src="tog_minus.gif"/> &nbsp; &nbsp; &nbsp; &nbsp;<span class="f_ToggleHeading"><a class="dropdown-toggle" style="font-style: normal; font-weight: normal; color: #000000; background-color: transparent; text-decoration: none;" href="javascript:HMToggle('toggle','UnderstandingFactorsThatAffectOptimizationPerformance','UnderstandingFactorsThatAffectOptimizationPerformance_ICON')">Understanding&nbsp;factors&nbsp;that&nbsp;affect&nbsp;optimization&nbsp;performance</a></span></p>
<div id="UnderstandingFactorsThatAffectOptimizationPerformance" class="dropdown-toggle-body" style="text-align: left; line-height: 1.38; padding: 0 0 0 0; margin: 0 0 0 32px;"><table class="Toggle" >
<tr class="Toggle">
<td class="Toggle" style="background-color:#FFFFFF;"><h2 class="p_Heading2"><span class="f_Heading2">32 bit vs 64 bit</span></h2>
<p class="p_Normal">When you run an optimization in the<span style="font-weight: bold;"> 32 bit</span> version of NinjaTrader to consume less memory we do not store any trade data for each backtest that is run. Therefore if you want to do trade analysis on one of the backtest results returned from an optimization NinjaTrader must re-run the backtest to get the trade data, this adds a small delay when switching between tests. The<span style="font-weight: bold;"> 64 bit</span> version of NinjaTrader will take advantage of the extra RAM available to NinjaTrader and will keep the trade results for each kept backtest, allowing you to quickly change between backtest result reports.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal"><span style="font-weight: bold;">Keep best # results</span></p>
<p class="p_Normal">If you are finding that you are running low on system memory during your backtests reduce this number of results to keep will make a significant improvement to the memory used by NinjaTrader.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Running multiple tests at a time</span></h2>
<p class="p_Normal">You will not get more done in a smaller time frame by separating multiple tests out manually and running them at the same time on the same PC. NinjaTrader will efficiently use all CPU cores for any optimization for fastest possible testing.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">CPU Resources</span></h2>
<p class="p_Normal">Please insure that you have as much system resources available to the optimization as possible, this usually means making sure all other applications are closed. Furthermore as as the NinjaTrader optimization engine is optimized to take advantage of as much system resources as possible it is advisible not to trigger an optimization during a time where you would need to be using the PC. For example it is not advised to start an optimization while you are &nbsp;managing the exit of a trade. </p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Historical Trade Data</span></h2>
<p class="p_Normal">The <a href="includetradehistoryinbacktest.html" class="topiclink">IncludeTradeHistoryInBacktest</a> property is set to <span style="font-weight: bold;">false</span> by default when a strategy is applied in the <span style="font-weight: bold;">Strategy Analyzer</span> for optimization. This provides for leaner memory usage, but at the expense of not being able to access <span style="font-weight: bold;">Trade</span> objects for historical trades. Thus, fields such as <a href="alltrades.html" class="topiclink">SystemPerformance.AllTrades.Count</a> that rely on references to <span style="font-weight: bold;">Trade</span> objects will not have any such references to work with. If you would like to save these objects for reference in your code, you can set <span style="font-weight: bold;">IncludeTradeHistoryInBacktest</span> to <span style="font-weight: bold;">true</span> in the <span style="font-weight: bold;">Configure</span> state, but this can result in greater memory usage. For more information, see the <a href="strategyanalyzer_properties_2.html" class="topiclink">Working with Historical Trade Data</a> page.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Running Efficient Optimizations</span></h2>
<p class="p_Normal">Strategy optimizations are expected to consume a good deal of CPU resources, simply due to the nature of the iterative data processing they perform. Strategies with a relatively large number of parameters for optimization can multiply this impact. When working with strategies with a large number of parameters, avoid using &quot;1&quot; as the increment value for the optimizer, to avoid forcing the optimizer algorithm to run the maximum number of permutations. Changing the increment value to as little as &quot;2&quot; can cut the number of permutations in half, and increasing this value can have progressively less of an impact.</p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">The <a href="genetic_algorithm.html" class="topiclink">Genetic Algorithm</a> can offer an alternative solution to increasing parameter increment values. Rather than running brute-force tests by iterating over all permutations, the Genetic Algorithm intentionally ignores parameter combinations which are likely to produce sub-optimal results. </p>
<p class="p_Normal">&nbsp;</p>
<p class="p_Normal">Especially on larger parameter sets with finer increment values, the upper limits of potential permutations / parameter combinations could be reached for both approaches to optimization - the error message <span style="font-style: italic;">&quot;The strategy needs at least one parameter to optimize&quot;</span> would be then an indication to rework the # of parameters or increase the increment values to reach a more meaningful permutation count.</p>
<p class="p_Normal">&nbsp;</p>
<h2 class="p_Heading2"><span class="f_Heading2">Using a virtual / cloud server</span></h2>
<p class="p_Normal">If you are using a virtual or cloud server as basis for your setup when running optimization testing in the Strategy Analyzer, please keep in mind that such environments can typically allocate available resources on demand. NinjaTrader will still take advantage of all available threads for it's processing, however those resources available would be determined at the start-up of the NinjaTrader platform. So if your virtual resources would have changed while you were in a working session, then please restart fresh to ensure performance will be optimal. </p>
</td>
</tr>
</table>
</div>

        <!--ZOOMSTOP-->
      </div>
      <script type="text/javascript">
      
      var lastSlashPos = document.URL.lastIndexOf("https://ninjatrader.com/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("https://ninjatrader.com/") : document.URL.lastIndexOf("\\");
      if (document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh") {
      if (document.all) setTimeout(function() {
      nsrInit();
      }, 20);
      else nsrInit();
      }
      
      
      if ((!parent.hmNavigationFrame) && (parent.location) && (parent.location.href)) {
      $('.sync-toc').show();
      $('p.crumbs').hide();
      }
      
      
      </script>
      <div id="bump" style="height: 25px"></div>
    <script type="text/javascript">
HMInitToggle('HowToRunAnOptimization_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'HowToRunAnOptimization\',\'HowToRunAnOptimization_ICON\')');
HMInitToggle('HowToRunAnOptimization','hm.type','dropdown','hm.state','0');
HMInitToggle('UnderstandingOptimizationProperties_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'UnderstandingOptimizationProperties\',\'UnderstandingOptimizationProperties_ICON\')');
HMInitToggle('UnderstandingOptimizationProperties','hm.type','dropdown','hm.state','0');
HMInitToggle('UnderstandingOptimizationResults_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'UnderstandingOptimizationResults\',\'UnderstandingOptimizationResults_ICON\')');
HMInitToggle('UnderstandingOptimizationResults','hm.type','dropdown','hm.state','0');
HMInitToggle('RunningABasketTest_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'RunningABasketTest\',\'RunningABasketTest_ICON\')');
HMInitToggle('RunningABasketTest','hm.type','dropdown','hm.state','0');
HMInitToggle('UnderstandingFactorsThatAffectOptimizationPerformance_ICON','hm.type','dropdown','hm.state','0','hm.src0','tog_plus.gif','hm.src1','tog_minus.gif','onclick','HMToggle(\'toggle\',\'UnderstandingFactorsThatAffectOptimizationPerformance\',\'UnderstandingFactorsThatAffectOptimizationPerformance_ICON\')');
HMInitToggle('UnderstandingFactorsThatAffectOptimizationPerformance','hm.type','dropdown','hm.state','0');
</script>
</body>
  
<!-- Mirrored from ninjatrader.com/support/helpGuides/nt8/optimize_a_strategy.htm by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 26 Jan 2023 19:53:05 GMT -->
</html>
